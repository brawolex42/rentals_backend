{% load i18n %}
<div style="border:1px solid #e5e7eb; border-radius:12px; overflow:hidden; background:#fff; display:flex; flex-direction:column;">
  <div style="aspect-ratio:16/9; background:#f3f4f6; overflow:hidden;">
    {% if property.images.first %}
      <img src="{{ property.images.first.image.url }}" alt="{{ property.title }}" style="width:100%; height:100%; object-fit:cover;">
    {% endif %}
  </div>
  <div style="padding:1rem; flex:1; display:flex; flex-direction:column; gap:.5rem;">
    <h3 style="margin:0; font-size:1.1rem; font-weight:600;">
      {{ property.city }}: {{ property.rooms }}-room
    </h3>
    {% if property.address_line or property.postal_code %}
      <p style="margin:0; color:#6b7280;">
        {% if property.address_line %}{{ property.address_line }}{% endif %}{% if property.address_line and property.postal_code %}, {% endif %}{% if property.postal_code %}{{ property.postal_code }}{% endif %}
      </p>
    {% endif %}
    <p style="margin:0; font-weight:600;">€ {{ property.price }},00</p>
    <p style="margin:0; color:#6b7280;">
      ⭐ {% if property.avg_rating %} {{ property.avg_rating|floatformat:1 }} ({{ property.reviews_count }}) {% else %} — (0) {% endif %}
    </p>

    <div style="margin-top:auto; display:flex; flex-wrap:wrap; gap:.3rem;">
      <a href="{% url 'property_detail' property.id %}" class="btn btn-primary">{% trans "View" %}</a>
      <a href="#book" class="btn btn-danger">{% trans "Book now" %}</a>
      <a href="{% url 'contact_host' property.id %}" class="btn btn-muted">{% trans "Contact host" %}</a>
    </div>
  </div>
</div>
