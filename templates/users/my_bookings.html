{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "My bookings" %}{% endblock %}

{% block content %}
<section>
  <h1 style="margin:0 0 .8rem; font-size:clamp(20px,3vw,28px);">{% trans "My bookings" %}</h1>

  {% if bookings %}
    <div class="card" style="overflow-x:auto;">
      <table style="width:100%; border-collapse:collapse;">
        <thead>
          <tr>
            <th style="text-align:left; padding:.6rem;">{% trans "Property" %}</th>
            <th style="text-align:left; padding:.6rem;">{% trans "Dates" %}</th>
            <th style="text-align:left; padding:.6rem;">{% trans "Status" %}</th>
            <th style="text-align:left; padding:.6rem;">{% trans "Actions" %}</th>
          </tr>
        </thead>
        <tbody>
          {% for b in bookings %}
            <tr>
              <td style="padding:.6rem;">
                <a href="{% url 'property_detail' b.property.pk %}">{{ b.property.title }}</a>
              </td>
              <td style="padding:.6rem;">
                {{ b.start_date }} â€” {{ b.end_date }}
              </td>
              <td style="padding:.6rem;">
                {{ b.get_status_display }}
              </td>
              <td style="padding:.6rem; white-space:nowrap;">
                <a class="btn btn-muted" href="{% url 'booking_edit' b.pk %}">{% trans "Edit" %}</a>
                <form method="post" action="{% url 'booking_cancel_html' b.pk %}" style="display:inline;">
                  {% csrf_token %}
                  <button class="btn btn-danger" type="submit">{% trans "Cancel" %}</button>
                </form>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="muted">{% trans "You have no bookings yet." %}</p>
  {% endif %}
</section>
{% endblock %}
